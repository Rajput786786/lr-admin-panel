<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>LR OWNER PANEL</title>
<script src="https://cdn.jsdelivr.net/npm/@supabase/supabase-js@2"></script>

<style>
*{margin:0;padding:0;box-sizing:border-box;font-family:Arial,Helvetica,sans-serif}

body{
height:100vh;
display:flex;
align-items:center;
justify-content:center;
background:linear-gradient(135deg,#071226,#0f1f3d);
color:white;
}

.glass{
width:350px;
padding:40px 30px;
border-radius:25px;
background:rgba(255,255,255,0.05);
backdrop-filter:blur(15px);
box-shadow:0 0 40px rgba(0,255,255,0.3);
text-align:center;
}

h2{
margin-bottom:30px;
color:#4ffcff;
}

.input-group{
margin-bottom:20px;
text-align:left;
}

.input-group input{
width:100%;
padding:12px;
background:transparent;
border:none;
border-bottom:2px solid rgba(255,255,255,0.3);
color:white;
outline:none;
}

.input-group input:focus{
border-bottom:2px solid #4ffcff;
}

button{
width:100%;
padding:12px;
border-radius:30px;
border:none;
background:linear-gradient(90deg,#00eaff,#0088ff);
color:white;
font-weight:bold;
cursor:pointer;
box-shadow:0 0 15px cyan;
transition:0.3s;
}

button:hover{
transform:scale(1.05);
}

#error{
margin-top:15px;
color:#ff6b6b;
font-size:14px;
}
.hidden{display:none}
</style>
</head>

<body>

<div class="glass" id="loginBox">
<h2>LR OWNER PANEL</h2>

<div class="input-group">
<input type="email" id="email" placeholder="Email">
</div>

<div class="input-group">
<input type="password" id="password" placeholder="Password">
</div>

<button id="loginBtn">LOGIN</button>

<div id="error"></div>
</div>

<script>

const supabase = window.supabase.createClient(
"https://dpskhodrzlnqczibolug.supabase.co",
"eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6ImRwc2tob2RyemxucWN6aWJvbHVnIiwicm9sZSI6ImFub24iLCJpYXQiOjE3NzIwMjU1MTcsImV4cCI6MjA4NzYwMTUxN30.53CxPWtg_-PpDt_reNsxE1A4KupdhFfv6wbB3HsuhNs"
);

const loginBtn = document.getElementById("loginBtn");
const errorBox = document.getElementById("error");

loginBtn.addEventListener("click", login);

/* ---------- Auto Session Check ---------- */

window.addEventListener("DOMContentLoaded", async () => {
const { data } = await supabase.auth.getSession();
if(data.session){
alert("Already Logged In");
}
});

/* ---------- Login Function ---------- */

async function login(){

const emailVal = document.getElementById("email").value.trim();
const passVal = document.getElementById("password").value;

errorBox.textContent = "";

if(!emailVal || !passVal){
errorBox.textContent = "Email / Password required";
return;
}

loginBtn.innerText = "Logging...";
loginBtn.disabled = true;

const { error } = await supabase.auth.signInWithPassword({
email: emailVal,
password: passVal
});

if(error){
errorBox.textContent = error.message;
loginBtn.innerText = "LOGIN";
loginBtn.disabled = false;
return;
}

alert("Login Successful");

loginBtn.innerText = "LOGIN";
loginBtn.disabled = false;

}

</script>

</body>
</html>
